package com.example.service;

import java.io.IOException;

/**
 * Інтерфейс, що визначає контракт для механізму персистентності (збереження даних).
 * <p>
 * Цей інтерфейс дозволяє абстрагуватися від конкретного способу збереження
 * (CSV, JSON, XML або база даних). Будь-який клас, що реалізує цей інтерфейс,
 * зобов'язаний надати логіку запису та читання стану системи.
 * <p>
 */
public interface Persistable {

    /**
     * Зберігає поточний стан даних (всі колекції об'єктів) у файл або набір файлів.
     *
     * @param path Шлях до файлу або директорії, де будуть створені файли даних.
     * @throws IOException Виникає у разі помилок вводу-виводу (наприклад,
     * відсутність прав доступу до диску, переповнення диску тощо).
     */
    void saveDataToFile(String path) throws IOException;

    /**
     * Завантажує та відновлює стан даних (колекції) із зовнішнього файлу.
     * Метод повинен коректно обробляти ситуацію, коли файли відсутні (наприклад,
     * перший запуск програми), не перериваючи роботу аварійно.
     *
     * @param path Шлях до файлу або директорії, звідки потрібно зчитати дані.
     * @throws IOException Виникає у разі помилок читання файлу або некоректного формату даних.
     */
    void loadDataFromFile(String path) throws IOException;
}